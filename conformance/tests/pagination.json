[
  {
    "name": "List operation returns first page with Link header",
    "description": "Verifies that list operations return first page and expose Link header for pagination",
    "operation": "ListProjects",
    "method": "GET",
    "path": "/projects.json",
    "mockResponses": [
      {
        "status": 200,
        "headers": {
          "Link": "</projects.json?page=2>; rel=\"next\"",
          "X-Total-Count": "75"
        },
        "body": {"projects": [{"id": 1}, {"id": 2}]}
      }
    ],
    "assertions": [
      {"type": "requestCount", "expected": 1},
      {"type": "statusCode", "expected": 200},
      {"type": "noError"}
    ],
    "tags": ["pagination", "link-header"]
  },
  {
    "name": "Total count header is accessible",
    "description": "Verifies that X-Total-Count header is parsed and accessible",
    "operation": "ListTodos",
    "method": "GET",
    "path": "/todolists/{todolistId}/todos.json",
    "pathParams": {"todolistId": 67890},
    "mockResponses": [
      {
        "status": 200,
        "headers": {
          "X-Total-Count": "42"
        },
        "body": {"todos": []}
      }
    ],
    "assertions": [
      {"type": "headerValue", "path": "X-Total-Count", "expected": "42"},
      {"type": "noError"}
    ],
    "tags": ["pagination", "total-count"]
  }
]
